!function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("elliptical-utils"),require("component-extensions")):"function"==typeof define&&define.amd?define(["elliptical-utils","component-extensions"],e):t.returnExports=e(elliptical.utils,elliptical.extensions)}(this,function(t,e){function n(t,e){"undefined"==typeof e&&(e=HTMLElement.prototype,e._name="HTMLElement");var n=Object.create(e);n._tagName=t;var i={prototype:n};"HTMLElement"===e._name?document.registerElement(t,i):(i=o(e._name,i),document.registerElement(t,i))}function i(t){"string"==typeof t?n(t):t.length>0&&t.forEach(function(t){"string"==typeof t?n(t):n(t.name,t.prototype)})}function o(t,e){var n=t.replace(/HTML/g,"").replace(/Element/g,"");return n=n.toLowerCase(),e["extends"]=n,e}function r(t){var e=$.elliptical.defintions.get(t.tagName);void 0===e&&$.elliptical.defintions.set(t.tagName,t)}function a(t,e){void 0===e&&(e=!0);var n={};return $.each(t.attributes,function(t,i){var o=i.name,r=i.value;if(!l(o)){var a=/data-/;a.test(o)&&(o=o.replace("data-","")),e&&"false"!==e?"template"!==o?n[o.toCamelCase()]=s(r):n[o]=s(r):n[o.toCamelCase()]=s(r)}}),n}function s(t){return"false"===t&&(t=!1),"true"===t&&(t=!0),t}function l(t){var e=/href|tcmuri|rowspan|colspan|class|nowrap|cellpadding|cellspacing/;return e.test(t)}function c(t){if(!t)return null;var e=t.dataset;return void 0!==e?t.dataset.upgraded:void 0}function u(t){var e=null,n=null,i=null,o=t.split("."),r=t.split("-");return o.length>1?(n=t,e=t.replace(".","-")):r.length>1?(e=t,n=r[0]+"."+$.utils.string.dashToCamelCase(t)):i=!0,{tagName:e,name:n,err:i}}function p(){m.forEach(function(t){n(t)})}var d={$providers:{location:function(t){window.location=t}},mqMaxWidth:1024},m=["ui-container","ui-overlay","ui-modal","ui-menu","menu-item","ui-brand","ui-toggle","menu-item-dropdown","menu-item-search","menu-divider","grid-row","grid-columns","ui-select","ui-input-icon","flex-table","ui-dropdown","ui-mega-dropdown","ui-media-object","ui-box","ui-breadcrumb","breadcrumb-item","ui-radio-list","ui-checkbox-list","flex-box","flex-list","flex-label","ui-badge","ui-tip","ui-columns","column-item","ui-social","social-icon","touch-ui-drawer","touch-ui-menu","touch-ui-dropdown","touch-ui-toggle","touch-ui-brand","touch-icons","touch-icon","ui-icons","screen-icon","touch-template","empty-template"];$.extend($.Widget.prototype.options,d),Object.assign($.Widget.prototype,e.base),$.Widget.prototype._location=function(t){var e=$.Widget.prototype.options.$providers.location;e(t)},$.Widget.prototype._getCreateEventData=function(){$.data(this.element[0],"custom-"+this.widgetName,this.widgetName),this._onCreateEventData()},$.Widget.prototype._onCreateEventData=$.noop,$.Widget.prototype._getAttrs=function(t,e){return a(t,e)},$.Widget.prototype.setOptions=function(t){this._setOptions(t)},$.each({show:"fadeIn",hide:"fadeOut"},function(t,e){$.Widget.prototype["_"+t]=function(n,i,o){var r=i?i.event:null;"string"==typeof i&&(i={effect:i});var a;i?i===!0||"number"==typeof i?e:i.effect||e:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!$.isEmptyObject(i),i.complete=o,i.delay&&n.delay(i.delay),i.duration||(i.duration=300);var s={};s.duration=i.duration,s.preset=i.effect,$("html").hasClass("no-css3dtransforms")||"none"===i.effect?"show"===r?(n.show(),o&&o()):"hide"===r&&(n.hide(),o&&o()):this._transition(n,s,o)}}),$.widget.$providers=function(t){for(var e in t)t.hasOwnProperty(e)&&($.Widget.prototype.options.$providers[e]=t[e])},$.widget.config={options:Object.defineProperties({},{mqMaxWidth:{get:function(){return $.Widget.prototype.options.mqMaxWidth},set:function(t){$.Widget.prototype.options.mqMaxWidth=t}}})},$.elliptical=$.elliptical||{},$.elliptical.definitions=new Map,$.widget.register=function(t,e,n,i){var a={};a.name=t,a.tagName=e,void 0===i&&(i=!0);var s=Object.create(n);s._tagName=e;var l={prototype:s};s.attachedCallback=function(){this._attachedCallback&&this._attachedCallback()},s.detachedCallback=function(){this._detachedCallback&&this._detachedCallback()},s.createdCallback=function(){_HTML5Imports.instantiate(this,t)},s.attributeChangedCallback=function(t,e,n){"loaded"===t&&this.removeAttribute("ui-preload"),this._attributeChangedCallback&&this._attributeChangedCallback(t,e,n)},"HTMLElement"===n._name?document.registerElement(e,l):(a.tagName='[is="'+e+'"]',l=o(n._name,l),document.registerElement(e,l)),i&&r(a)},$.widget.registerElement=function(t,e){n(t,e)},$.widget.registerElements=function(t){i(t)},$.widget("elliptical.element",{_create:function(){this._destroyed=!1,this._data={_store:new Map,get:function(t){return this._store.get(t)},set:function(t,e){this._store.set(t,e)},click:"touchclick",hover:"touchhover"},this._data.events=[],$.extend(this.options,$.Widget.prototype.options),this._onBeforeCreate()},_onBeforeCreate:function(){this.options.proxyUpgrade?this._proxyUpgradeElement():this._upgradeElement()},_proxyUpgradeElement:function(){this.element[0].dataset&&(this.element[0].dataset.upgraded=!0),this._onCreate()},_upgradeElement:function(){var t=this,e=c(this.element[0]);if(null===e&&this._destroy(),"true"===e)this._onCreate();else{var n=this._tagName;window._HTML5Imports.upgradeElement(n,this.element[0],function(n){e=c(n),"true"===e?t._onCreate():t.destroy()})}},_onCreate:function(){if(!this._created){this._created=!0,this._setOptionsFromAttribute(),this._publishLoaded(),this._initElement(),this.__onInit(),this._delegateEventListener(),this._setChildrenAttributes();var t=this.widgetName.toLowerCase()+".loaded";$(window).trigger(t,{target:this.element}),this.__componentCallbacks()}},_publishLoaded:function(){this._triggerEvent("loaded",this.element)},_initElement:$.noop,__onInit:function(){this._events(),this._onInit()},_onInit:$.noop,_events:$.noop,_event:function(t,e,n,i,o){var r={};r.element=t,r.event=e;var a=arguments.length;if(3===a?(o="function"==typeof n?n:null,i=!1,n=null):4===a&&(o="function"==typeof i?i:null,"boolean"==typeof n?(i=n,n=null):i=!1),r.selector=n,r.unbind=i,r.callback=o,this._data&&this._data.events){var s=this._data.events;-1===$.inArray(r,s)&&this._data.events.push(r),n?t.on(e,n,function(){var t=[].slice.call(arguments);o&&o.apply(this,t)}):t.on(e,function(){var t=[].slice.call(arguments);o&&o.apply(this,t)})}},_unbindEvents:function(t){if("undefined"==typeof t&&(t=!1),this._data&&this._data.events){var e=this._data.events;$.each(e,function(n,i){t?(i.selector?i.element.off(i.event,i.selector):i.element.off(i.event),i=null):i.unbind&&(i.selector?i.element.off(i.event,i.selector):i.element.off(i.event),e.splice(n,1))}),t&&(e.length=0,this._onUnbindEvents())}},_onUnbindEvents:$.noop,_hide:function(){this.element.hide()},_show:function(){this.element.show()},_delegateEventListener:function(){this._event(this.element,this._data.click,"[on-click]",this._listenerCallback.bind(this))},_listenerCallback:function(t){var e=$(t.currentTarget),n=e.attr("on-click");n&&this[n]&&this[n](t)},_destroy:function(){this._data&&(this._triggerEvent("destroyed",this.element),this._unbindEvents(!0),this._dispose(),this._onDestroy(),$.removeData(this.element[0],"custom-"+this.widgetName),this._data._store=null,this._data.events.length=0,this._destroyed=!0)},__componentCallbacks:function(){var t=this.element[0];t._attachedCallback=this._attachedCallback,t._detachedCallback=this._detachedCallback,t._attributeChangedCallback=this._attributeChangedCallback},_distributeContent:function(t,e,n){_HTML5Imports.upgradeElement(t,e,n)},_attachedCallback:$.noop,_detachedCallback:$.noop,_attributeChangedCallback:$.noop,_dispose:function(){this._super&&this._super()},_onDestroy:$.noop,runInit:function(){this._initElement()},service:function(t){if(void 0===t&&this.options&&(t=this.options.service),this.__serviceLocator)return this.__serviceLocator(t);var e=$.elliptical.element.prototype.__serviceLocator;return e?e(t):void 0},serviceAsync:function(t,e){"function"==typeof t&&(e=t,t=void 0);var n=this,i=300,o=5,r=0,a=this.service(t);if(a&&void 0!==a)e(a);else var s=setInterval(function(){a=n.service(t),a&&void 0!==a?(clearInterval(s),e(a)):r>o?(clearInterval(s),e(null)):r++},i)}}),$.elementFactory=function(t){return function(e,n,i,o,r){var a,s=null,l=null,c=null,p=null,d=null,m=arguments.length;if(2>m)throw"Error: Element requires a minimum of two parameter types: string name and a singleton for the prototype";if(2===m){if(d=n,"object"==typeof e)throw"Error: Element requires a string name parameter";if("object"!=typeof n)throw"Error: Element requires a singleton for the prototype";if(a=u(e),l=a.name,c=a.tagName,a.err)throw"Error: Element requires a string tag name or a namespaced name"}else if(3===m)if(d=i,"object"==typeof e){if("string"!=typeof n)throw"Error: Element requires a string name parameter";if("object"!=typeof i)throw"Error: Element requires a singleton for the prototype";p=e,a=u(n),l=a.name,c=a.tagName}else"string"!=typeof n?(a=u(e),l=a.name,c=a.tagName,s=n):(l=e,c=n);else if(4===m)if(d=o,"object"==typeof e){if(p=e,"string"!=typeof n)throw"Error: Element requires a string name parameter or tag name";"string"==typeof i?(l=n,c=i):(a=u(n),l=a.name,c=a.tagName,s=i)}else l=e,c=n,s=i;else d=r,p=e,l=n,c=i,s=o;if(s||(s=t),c||(c=l.replace(".","-")),!p){var h=HTMLElement.prototype;h._name="HTMLElement",p=h}d._tagName=c,$.widget(l,s,d);var f=l.split(".")[1];try{$.widget.register(f,c,p)}catch(v){}}},$.element=$.elementFactory($.elliptical.element),p();for(var h in $.widget)$.element[h]=$.widget[h];return $.element.serviceLocator=function(t,e){var n={__serviceLocator:t.bind(e)};$.extend($.elliptical.element.prototype,n)},$}),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(request("elliptical-utils","observable-component")):"function"==typeof define&&define.amd?define(["elliptical-utils","observable-component"],e):t.returnExports=e(t.elliptical.utils,t.elliptical.observable)}(this,function(t,e){var n=e.cache;n._initCacheElement=function(){var t=this.$cache();this._data.set("$cache",t)};var i=e.pubsub;i._initPubSubElement=function(){this._data.set("subscriptions",[]),this._subscriptions()};var o=e.scope,r={idProp:"id",scopeBind:!0,objectAssign:!1};o=Object.assign({},o,r);var a=e.template,s={options:{context:null,scope:null},_initElement:function(){this._initCacheElement(),this._initPubSubElement(),this._initScopeElement(),this._initTemplateElement(),this._beforeInitComponent(),this._initComponentElement()},_beforeInitComponent:$.noop,_initComponentElement:function(){var t=this.options.context;t||(t=this._viewBag(),t&&(this.options.context=t)),this.$viewBag=t,this.__setScope(),this._initComponent(),this.__subscriber(),this.__publisher()},__setScope:function(){var t=this.options?this.options.data:this.data;if(!t){var e=this.options.context,n=this.options.scope;this.$scope&&n&&e&&(this.options.objectAssign?this.$scope=e[n]:this.$scope[n]=e[n])}},_initComponent:$.noop,__subscriber:function(){var t=this,e=this.options.channel,n=this.options.event;this._data.set("_synced",!1),e&&"sync"===n&&this._subscribe(e+".sync",function(e){t._data.get("_synced")||(t._data.set("_synced",!0),t._dispose(),t.$scope=e.$scope,t._rebind(),t.__onSyncSubscribe(e.proto))})},__publisher:function(){var t=this.options.channel,e=this.options.event,n=this;if(t&&!e)if(this._data.get("scopeObserver"))this._publish(t+".sync",{proto:this,$scope:this.$scope});else var i=setInterval(function(){n._data.get("scopeObserver")&&(clearInterval(i),n._publish(t+".sync",{proto:n,$scope:n.$scope}))},500)},_viewBag:function(){var t=window.$$;return t&&t.elliptical?t.elliptical.context:null},__onSyncSubscribe:function(t){this._onSyncSubscribe(t)},_onSyncSubscribe:$.noop,_scopedContextModel:function(){var t=this.options.context,e=this.options.scope;return e&&t?t[e]:void 0},scope:function(){return this.$scope},runInit:function(){this._initComponent()}};s=Object.assign(n,i,o,a,s),$.element("elliptical.component",s),$.component=$.elementFactory($.elliptical.component);for(var l in $.element)$.component[l]=$.element[l];return $.component.config={scope:Object.defineProperties({},{id:{get:function(){return $.Widget.prototype.options.idProp},set:function(t){$.Widget.prototype.options.idProp=t}}})},$}),function(){function t(t){try{return t.hasAttribute("content-init")?!1:null===t.getAttribute("definition")}catch(e){return!1}}function e(t){var e=/href|tcmuri|rowspan|colspan|class|nowrap|cellpadding|cellspacing|ea/;return e.test(t)}function n(t){return"false"===t&&(t=!1),"true"===t&&(t=!0),t}var i={linkImports:[],importElements:[],upgradeElementQueueFlag:!1,mutationsArray:[]},o=elliptical.mutation.summary,r='link[rel="import"][property="elliptical"]',a="OnDocumentAddedMutation",s="WebComponentsReady",l="HTMLImportsLoaded",c="parse-attr",u=100,p=500,d=800,m=15,h=0,f=40,v={webComponentsReady:function(){setTimeout(function(){var t=document.createEvent("CustomEvent");t.initCustomEvent(s,!0,!0,{}),document.dispatchEvent(t)},p)}},g={start:function(){$(document).on(a,this.on.bind(this))},on:function(t){setTimeout(function(){b.linkImportMutations(t),b.customElementMutations(t)},p)}},_={parser:function(t){var e=document.implementation.createHTMLDocument("");return t.toLowerCase().indexOf("<!doctype")>-1?e.documentElement.innerHTML=t:e.body.innerHTML=t,e},walk:function(t,e,n){for(e(t),t=t.firstChild;t;)this.walk(t,e),t=t.nextSibling;n()}},b={bindLinkImports:function(){var t=$(r),e=this.recursivelyGetLinks(t);this.parseLinkImports(e)},linkImportMutations:function(t){var e=$(t).selfFind(r);if(e[0]){i.upgradeElementQueueFlag=!0;var n=this.recursivelyGetLinks(e);0===n.length?this.queueLinkImportMutations(e):this.verifyLinkImports(n)?this.throwReady(n):this.queueLinkImports(n)}},throwReady:function(t){v.webComponentsReady(),i.upgradeElementQueueFlag=!1,this.parseLinkImports(t)},verifyLinkImports:function(t){var e=t[0],n=this.getTemplateFromImport(e);return n[0]},queueLinkImports:function(t){var e=this;this.onLinkImportsComplete(t,function(t){e.throwReady(t)})},onLinkImportsComplete:function(t,e){var n=this,i=0,o=setInterval(function(){var r=n.verifyLinkImports(t);r||i>f?(clearInterval(o),e(t)):i++},u)},getTemplateFromImport:function(t){var e=t["import"];return $(e).find("template").not("[template]")},queueLinkImportMutations:function(t){var e=this,n=setInterval(function(){t=e.recursivelyGetLinks(t),t[0]&&(clearInterval(n),e.verifyLinkImports(t))},u)},recursivelyGetLinks:function(t){var e=[],n=this;return $.each(t,function(t,i){var o=n.recurseLink(i,[]);e=e.concat(o)}),e},recurseLink:function(t,e){if(t["import"]){i.linkImports.push(t),e.push(t);var n=t["import"].all;if(void 0!==n){for(var o=n.length,r=0;o>r;r++){var a=n[r],s=a["import"];void 0!==s&&this.recurseLink(a,e)}return e}return e}return e},parseLinkImports:function(t){var e=this;$.each(t,function(t,n){e.parseImportDocument(n,t)})},parseImportDocument:function(t,e){var n=this.getTemplateFromImport(t),o=n[0];if(o){var r=o.parentNode,a=r.tagName,s=this.checkForDuplicate(a);if(!s){var l=o.innerHTML,c=this.parseAttribute(r)?!0:!1,u={tag:a,index:e,parse:c,str:l,template:o};i.importElements.push(u)}}},doUpgrade:function(t){var e=t.dataset.upgraded;return void 0===e||"false"===e},upgradeElement:function(t,e,n,i,o){var r,a=$(t);if(""===i)return this.setAttributes(t,a),void this.publishUpgradeEvent(t,o);if(e&&t.attributes){r=this.elementAttributeBind(t,i),r=this.distributeContent(r,t),a.empty();try{t.appendChild(r),this.setAttributes(t,a),this.publishUpgradeEvent(t,o)}catch(s){console.log(s)}}else{var l=n.content;if(!l)return void this.fireCallback(t,o);l.childNodes&&0===l.childNodes.length&&(n=this.createTemplateNode(i)),r=n.content.cloneNode(!0),r=this.distributeContent(r,t),a.empty(),t.appendChild(r),this.setAttributes(t,a),this.publishUpgradeEvent(t,o)}},publishUpgradeEvent:function(t,e){$(document).trigger("OnElementImport",{node:t}),this.fireCallback(t,e)},fireCallback:function(t,e){e&&e(t)},setAttributes:function(t,e){e.find("[content-init]").removeAttr("content-init"),e.find("content").remove(),t.dataset.upgraded=!0},parseAttribute:function(t){var e=t.getAttribute(c);return e||""===e},elementAttributeBind:function(t,e){var n=this;$.each(t.attributes,function(t,n){var i=new RegExp("\\[\\["+n.name+"\\]\\]","g");e=e.replace(i,n.value)}),e=e.replace(/\[\[(.*?)]]/g,""),e=e.replace(/\[\[/g,"");var i=n.createTemplateNode(e);return i.content.cloneNode(!0)},parseElementImport:function(t,e,n,o){for(var r=i.importElements.length,a=null,s=0;r>s;s++){var l=i.importElements[s].tag;if(l.toLowerCase()===t.toLowerCase()){a=i.importElements[s];break}}if(a){var c=Object.getPrototypeOf(e);void 0!==c._tagName&&(c._imported=!0);var u=a.parse,p=a.str,d=a.template;this.doUpgrade(e)?this.upgradeElement(e,u,d,p,n):n&&n(null)}else o&&this.queueParsingRequest(t,e,n)},queueParsingRequest:function(t,e,n){var i=0,o=this,r=setInterval(function(){var a=Object.getPrototypeOf(e),s=!1;a&&void 0!==a._tagName&&a._imported&&void 0!==a._imported&&(s=!0),s||i>m?(n&&n(null),clearTimeout(r)):(i++,o.parseElementImport(t,e,n,!1))},p)},distributeContent:function(t,e){var n=e.innerHTML;if(n=n.trim?n.trim():n.replace(/^\s+/,""),""===n)return t;var i=t.querySelectorAll("content");if(i){if(i.length>1){for(var o=0;o<i.length;o++){var r=i[o].getAttribute("select");if(r){var a=e.querySelector(r);a&&$(i[o]).replaceWith(a)}}return t}return $(i[0]).replaceWith(n),t}var s=t.querySelector("form");return s?($(s).replaceWith(n),t):t},createTemplateNode:function(t){t="<template>"+t+"</template>";var e=(new DOMParser).parseFromString(t,"text/html");return e||(e=_.parser(t)),e.querySelector("template")},checkForDuplicate:function(t){for(var e=i.importElements.length,n=!1,o=0;e>o;o++){var r=i.importElements[o];if(t===r.tag){n=!0;break}}return n},customElementMutations:function(t){if(i.upgradeElementQueueFlag)var e=setInterval(function(){i.upgradeElementQueueFlag||(clearInterval(e),y.discover(t))},u);else y.discover(t)}},y={discover:function(t){var e=this;setTimeout(function(){e.discoverCustomElementDefinitions(t)},d)},discoverCustomElementDefinitions:function(t,e){var n=$.elliptical.definitions;n.forEach(function(n,i){var o=e?$(t).find(n):$(t).selfFind(n);o&&o.length>0&&this.instantiateCustomElements(o,i)})},instantiateCustomElements:function(t,e){var n=this;$.each(t,function(t,i){n.instantiate(i,e)})},instantiate:function(e,n){var i=$(e),o=i.attr("camel-case");void 0===o&&(o=!0);var r=t(e);if(r){var a=this.isInstantiated(e,n);if(!a){var s=this.getOpts(e,o);i[n](s)}}},isInstantiated:function(t,e){var n=t.dataset;return void 0===n.upgraded&&(n.upgraded=!1),e===$.data(t,"custom-"+e)},getOpts:function(t,i){void 0===i&&(i=!0);var o={};return $.each(t.attributes,function(t,r){var a=r.name,s=r.value;if(!e(a)){var l=/data-/;l.test(a)&&(a=a.replace("data-","")),i&&"false"!==i?"template"!==a?o[a.toCamelCase()]=n(s):o[a]=n(s):o[a.toCamelCase()]=n(s)}}),o}};window.addEventListener(l,function(t){b.bindLinkImports()}),window.addEventListener(s,function(t){0===h&&(y.discoverCustomElementDefinitions(document,!0),h=1)}),o.connect(),g.start();var E={};E.upgradeElement=function(t,e,n){b.parseElementImport(t,e,n,!0)},E.instantiate=function(t,e){y.instantiate(t,e)},window._HTML5Imports=E}();